<div data-controller="user-searches" class="search">
  <div class="container">
    <div class="search-header">
      <div class="search-header-clickable">
        <i class="fa fa-search"></i>
        <div id='infos-address'><%= @search_infos[:position] %></div>
        <div data-target="user-searches.date" id='infos-time-slot'><%= @search_infos[:time_slot] %></div>
        <div>Pour <span id='infos-number'><%= @search_infos[:people_number] %></span></div>
      </div>
      <%= link_to user_searches_path, method: :patch, remote: true do %>
        <div class="flex align-center">
          <p class="hidden-xs">Annuler la recherche</p>
          <i class="fa fa-times-circle left-mar-10"></i>
        </div>
      <% end %>
    </div>
    <div class="search-body">
      <div class="container">
        <%= simple_form_for @new_search, remote: true do |f| %>
          <div class="row">
            <div class="col-xs-12">
              <div class="btn-group width-100">
                <%= f.input :address, label: false, placeholder: 'Ville, adresse ...', input_html: { value: @user_search.address } %>
                <i id="user_search_address_clear" class="fa fa-times"></i>
              </div>
            </div>
            <div class="col-xs-12">
              <%= f.input :date, label: false, placeholder: 'Date & heure', input_html: { data: { action: 'click->user-searches#updateDateTarget', target: 'user-searches.dateInput' }, value: display_datetime_for(@user_search.date, join_expression: 'Ã ', without_year: true, time_separator: ':') }, as: :string, readonly: true  %>
            </div>
            <div class="col-xs-12 col-md-6">
              <!-- Nombre d'heures -->
              <div class="increment-block" data-input="#user_search_duration" data-field="#duration">
                <i class="fa fa-minus-circle control" aria-hidden="true" data-action="minus"></i>
                <div id="hours"><span id="duration"><%= @user_search.duration %></span> Heure(s)</div>
                <i class="fa fa-plus-circle control" aria-hidden="true" data-action="plus"></i>
              </div>
              <%= f.input :duration, input_html: {value: @user_search.duration, data: {min: 1, max: 5}}, as: :hidden %>
            </div>
            <div class="col-xs-12 col-md-6">
              <!-- Nombre de participants -->
              <div class="increment-block" data-input="#user_search_number" data-field="#number">
                <i class="fa fa-minus-circle control" aria-hidden="true" data-action="minus"></i>
                <div id="participants"><span id="number"><%= @user_search.number %></span> Personne(s)</div>
                <i class="fa fa-plus-circle control" aria-hidden="true" data-action="plus"></i>
              </div>
              <%= f.input :number, input_html: {value: @user_search.number, data: {min: 1, max: 20}}, as: :hidden %>
            </div>
          </div>
          <div class="text-center">
            <%= f.button :button, 'CHERCHER', type: :submit, class: 'button button-white' %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
