<div class="image-wrapper" style="background-image: url(<%= cookoon_safe_picture(@cookoon) %>)">
</div>

<div class="container">
  <div class="block-presentation">
    <h3><%= @cookoon.name %></h3>
    <p>Appartement à <span class="text-gray">Paris, 75008</span></p>
    <p>par <span class="text-gray"><%= @cookoon.user.first_name %></span></p>
  </div>
  <div>
    <p>
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Veniam illum hic
      eos commodi, impedit, quaerat culpa recusandae eius. Neque temporibus dicta
      debitis, quaerat quidem nihil, amet fugiat quisquam facere beatae!
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Veniam illum hic
      eos commodi, impedit, quaerat culpa recusandae eius. Neque temporibus dicta
      debitis, quaerat quidem nihil, amet fugiat quisquam facere beatae!
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Veniam illum hic
      eos commodi, impedit, quaerat culpa recusandae eius. Neque temporibus dicta
      debitis, quaerat quidem nihil, amet fugiat quisquam facere beatae!
    </p>
  </div>
  <div class="text-center" style='margin-top: 25px;'>
    <%= link_to 'Réserver', new_cookoon_reservation_path(@cookoon, reservation: {duration: 2, date: DateTime.now}), class: 'button button-blue' %>
  </div>
</div>

<div id="map" style="width: 100%; height: 400px; margin-top: 50px;"></div>

<% content_for(:after_js) do %>
  <script>
    $(document).ready(function() {
      var handler = Gmaps.build('Google');
      handler.buildMap({
        provider: {
          scrollwheel: false
        },
        internal: {
          id: 'map'
        }
      }, function() {
        markers = handler.addMarkers([
          {
            "lat": <%= @cookoon.latitude %>,
            "lng": <%= @cookoon.longitude %>,
            "infowindow": "<h3><%= @cookoon.name %></h3>"
          }
        ]);
        handler.bounds.extendWith(markers);
        handler.fitMapToBounds();
        handler.getMap().setZoom(14);
      });
    });
  </script>
<% end %>
